webpackJsonp([13],{UQbI:function(e,t){},ttVv:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("/VxO"),o=a("wbDJ"),r=a("jsdL"),n=(a("qxtv"),a("vgQg")),i=a("8+FI"),l={name:"login",data:function(){return{appName:n.a.appName,loginForm:{username:"",password:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},methods:{handleLogin:function(){var e=this;this.$refs.loginForm.validate(function(t){if(t){var a=e,n=e.$loading({text:"正在登录中..."});Object(o.b)(e.loginForm).then(function(e){if(n.close(),e.code===r.a.success){Object(s.d)(e.data);var t=Object(s.a)("login_from");console.log("loginFrom",t),t&&""!=t.path?a.$router.push({path:t.path}):a.$router.push({path:"/main"})}else a.$message.error("用户名或密码错误")}).catch(function(){n.close()})}})}},created:function(){var e=this;i.a.$on("appName",function(t){e.appName=t});var t=Object(s.a)("login_from");console.log("loginFrom",t)}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-wrapper"},[a("div",{staticClass:"login-container"},[a("div",{staticClass:"logo-info"},[e._v("\n      "+e._s(e.appName)+"登录\n    ")]),e._v(" "),a("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{rules:e.rules,model:e.loginForm,"label-width":"0"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",{attrs:{prop:"username"}},[a("el-input",{staticClass:"text-info",attrs:{size:"medium",placeholder:"请输入用户名"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}},[a("i",{staticClass:"fa fa-user",attrs:{slot:"prefix"},slot:"prefix"})])],1),e._v(" "),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{staticClass:"text-info",attrs:{type:"password",size:"medium",placeholder:"请输入密码"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}},[a("i",{staticClass:"fa fa-lock",attrs:{slot:"prefix"},slot:"prefix"})])],1),e._v(" "),a("el-button",{staticClass:"lg-btn",attrs:{type:"danger","native-type":"submit"},on:{click:function(t){return e.handleLogin()}}},[e._v("登录")])],1)],1)])},staticRenderFns:[]};var u=a("VU/8")(l,c,!1,function(e){a("UQbI")},"data-v-a6ecd926",null);t.default=u.exports}});